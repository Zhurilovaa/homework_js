class XMLHService{constructor(){this.xhr=new XMLHttpRequest,console.log("Всё работает! XMLHttpRequest")}async GetAllTasks(e){let t=e+"tasks";this.xhr.open("GET",t,!1);try{return this.xhr.send(),200!=this.xhr.status?"Ошибка "+this.xhr.status+" "+this.xhr.statusText:this.xhr.response}catch(e){return"Запрос не удался"}}async GetTaskById(e,t){let s=e+"tasks/"+String(t);this.xhr.open("GET",s,!1);try{return this.xhr.send(),200!=this.xhr.status?"Ошибка "+this.xhr.status+" "+this.xhr.statusText:this.xhr.response}catch(e){return"Запрос не удался"}}}class FetchSrvice{constructor(){console.log("Всё работает! Fetch")}async GetAllTasks(e){let t=e+"tasks";return await fetch(t,{method:"GET"}).then((e=>e.json())).catch((e=>e))}async GetTaskById(e,t){let s,r,c=e+"tasks/"+String(t),o=await fetch(c,{method:"GET"});return o.ok?(s=await o.json(),s):(r="Ошибка HTTP: "+o.status,r)}}class ControllerService{constructor(e,t){this.typeOfService=e,"fetch"===e?this.service=new FetchSrvice:"XMLH"===e?this.service=new XMLHService:console.log("Don't find service with this type!"),this.url=t,console.log(`urlServer = ${this.url}`),console.log("Всё работает!")}async GetAllTasks(){const e=await this.service.GetAllTasks(this.url);console.log(`${this.typeOfService} : Get all task: `),console.log(e)}async GetTaskById(e){const t=await this.service.GetTaskById(this.url,e);console.log(`${this.typeOfService} : Get task by id = ${e}: `),console.log(t)}}let typeOfService="fetch";const urlServer="http://37.220.80.108/";let idGet=[1,11,12];const ControlServiceFetch=new ControllerService(typeOfService,urlServer);ControlServiceFetch.GetAllTasks(),ControlServiceFetch.GetTaskById(idGet[0]),ControlServiceFetch.GetTaskById(idGet[1]),ControlServiceFetch.GetTaskById(idGet[2]),ControlServiceFetch.GetTaskById(0),typeOfService="XMLH";const ControllerServiceXMLH=new ControllerService(typeOfService,urlServer);ControllerServiceXMLH.GetAllTasks(),ControllerServiceXMLH.GetTaskById(idGet[0]),ControllerServiceXMLH.GetTaskById(idGet[1]),ControllerServiceXMLH.GetTaskById(idGet[2]),ControllerServiceXMLH.GetTaskById(0);